-- MySQL Script generated by MySQL Workbench
-- Fri Apr  3 16:04:24 2020
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering
drop database tin; 
create database tin; 
use tin ;
SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema tin
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema tin
-- -----------------------------------------------------
-- CREATE SCHEMA IF NOT EXISTS `tin` DEFAULT CHARACTER SET utf8 ;
-- USE `tin` ;

-- -----------------------------------------------------
-- Table `tin`.`d_Tiempo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `tin`.`d_Tiempo` (
  `idd_Tiempo` INT NOT NULL,
  `anio_Tiempocol` INT NULL,
  PRIMARY KEY (`idd_Tiempo`))
ENGINE = InnoDB;

insert into `tin`.`d_Tiempo` ( idd_Tiempo, anio_Tiempocol) values(1, 2016), (2, 2017);
-- -----------------------------------------------------
-- Table `tin`.`d_tipo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `tin`.`d_tipo` (
  `idd_tipo` INT NOT NULL,
  `d_tipocol` VARCHAR(45) NULL,
  PRIMARY KEY (`idd_tipo`))
ENGINE = InnoDB;

insert into `tin`.`d_tipo` (idd_tipo, d_tipocol) values(1, 'corta duracion'), (2, 'larga duracion');

-- -----------------------------------------------------
-- Table `tin`.`d_edad`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `tin`.`d_edad` (
  `idd_edad` INT NOT NULL,
  `d_edadinf` INT NOT NULL,
  `d_edadsup` INT NOT NULL,
  PRIMARY KEY (`idd_edad`))
ENGINE = InnoDB;

insert into `tin`.`d_edad`(idd_edad, d_edadinf, d_edadsup) values (1, 0, 15), (2, 16, 44), (3, 45, 64), (4, 65, 500);
-- -----------------------------------------------------
-- Table `tin`.`d_region`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `tin`.`d_region` (
  `idd_pais` INT NOT NULL,
  `des_pais` VARCHAR(45) NULL,
  `des_continente` VARCHAR(45) NULL,
  PRIMARY KEY (`idd_pais`))
ENGINE = InnoDB;

insert into `tin`.`d_region` (idd_pais, des_pais, des_continente) values(1, 'Resto de Europa','Resto de Europa'), (2, 'Bielorrusia','Resto de Europa' ), (3, 'Rusia', 'Resto de Europa' ), (4,'Serbia', 'Resto de Europa'), (5,'Turquía', 'Resto de Europa' ), (6, 'Ucrania', 'Resto de Europa'), (7, 'Otros Resto de Europa', 'Resto de Europa'), (8, 'África','África'), (9, 'Angola','África'), (10, 'Argelia','África'), (11, 'Cabo Verde','África'), (12, 'Camerún','África'),(13, 'Costa de Marfil','África'),(14, 'Egipto','África'), (15, 'Etiopía' ,'África'), (16, 'Gabón','África'), (17, 'Gambia','África'), (18, 'Ghana', 'África'), (19, 'Guinea', 'África'), (20, 'Guinea Bissau', 'África'),(21, 'Guinea Ecuatorial', 'África'),(22, 'Kenia', 'África'),(23, 'Libia', 'África'),(24, 'Mali', 'África'),(25, 'Marruecos', 'África'),(26, 'Mauritania', 'África'),(27, 'Mozambique', 'África'),(28, 'Namibia', 'África'),(29, 'Níger', 'África'),(30, 'Nigeria', 'África'),(31, 'República Dem. del Congo', 'África'),(32, 'Senegal', 'África'),(33, 'Sudáfrica', 'África'),(34, 'Sudán', 'África'),(35, 'Tanzania', 'África'),(36, 'Túnez', 'África'),(37, 'Zimbabue', 'África'),(38, 'Otros África', 'África'),(39, 'América del Norte', 'América del Norte'),(40, 'Canadá', 'América del Norte'),(41, 'Estados Unidos', 'América del Norte'),(42, 'México', 'América del Norte'), (43, 'América Central y del Sur', 'América Central y del Sur'), (44, 'Argentina', 'América Central y del Sur'), (45, 'Bolivia', 'América Central y del Sur'),(46, 'Brasil', 'América Central y del Sur'),(47, 'Chile', 'América Central y del Sur'),(48, 'Colombia', 'América Central y del Sur'),(49, 'Costa Rica', 'América Central y del Sur'),(50, 'Cuba', 'América Central y del Sur'),(51, 'Ecuador', 'América Central y del Sur'),(52, 'El Salvador', 'América Central y del Sur'),(53, 'Guatemala', 'América Central y del Sur'),(54, 'Haití', 'América Central y del Sur'),(55, 'Honduras', 'América Central y del Sur'),(56, 'Jamaica', 'América Central y del Sur'),(57, 'Panamá', 'América Central y del Sur'),(58, 'Perú', 'América Central y del Sur'),(59, 'República Dominicana', 'América Central y del Sur'),(60, 'Uruguay', 'América Central y del Sur'), (61, 'Venezuela', 'América Central y del Sur'),(62, 'Otros América Central y del Sur', 'América Central y del Sur'), (63, 'Asia', 'Asia'), (64, 'Arabia Saudí', 'Asia'), (65, 'Armenia', 'Asia'), (66, 'Azerbaiyán', 'Asia'), (67, 'Bahréin', 'Asia'), (68, 'Bangladés', 'Asia'), (69, 'China', 'Asia'), (70, 'Corea del Sur', 'Asia'),  (71, 'Filipinas', 'Asia'), (72, 'Georgia', 'Asia'), (73, 'India', 'Asia'), (74, 'Indonesia', 'Asia'), (75, 'Irak', 'Asia'), (76, 'Irán', 'Asia'), (77, 'Japón', 'Asia'), (78, 'Jordania', 'Asia'), (79, 'Kazajistán', 'Asia'), (80, 'Kirguistán', 'Asia'), (81, 'Kuwait', 'Asia'), (82, 'Líbano', 'Asia'), (83, 'Nepal', 'Asia'), (84, 'Omán', 'Asia'), (85, 'Pakistán', 'Asia'), (86, 'Palestina', 'Asia'), (87, 'Qatar', 'Asia'), (88, 'Siria', 'Asia'), (89, 'Sri Lanka', 'Asia'), (90, 'Tailandia', 'Asia'), (91, 'Taiwán', 'Asia'), (92, 'Uzbekistán', 'Asia'), (93, 'Vietnam', 'Asia'), (94, 'Yemen', 'Asia'), (95, 'Otros Asia', 'Asia'), (96, 'Oceanía', 'Oceanía'), (97, 'Oceanía', 'Australia'), (98, 'Otros Oceanía', 'Oceanía'), (99, 'Apátridas y no consta', 'Apátridas y no consta')   ;

-- -----------------------------------------------------
-- Table `tin`.`d_sexo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `tin`.`d_sexo` (
  `idd_sexo` INT NOT NULL,
  `des_sexo` VARCHAR(45) NULL,
  PRIMARY KEY (`idd_sexo`))
ENGINE = InnoDB;

insert into `tin`.`d_sexo` (idd_sexo, des_sexo) values (1, 'Hombres'), (2, 'Mujeres') ;
-- -----------------------------------------------------
-- Table `tin`.`f_visados`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `tin`.`f_visados` (
 `idd_f_visados` bigint auto_increment, 
 `num_visados` double NOT NULL,
  `idd_tiempo` INT NOT NULL,
  `idd_region` INT NOT NULL default 1,
  `idd_sexo` INT NOT NULL,
  `idd_tipo` INT NOT NULL,
  `idd_edad` INT NOT NULL,
  CONSTRAINT `pk_f_visados` primary key (idd_f_visados), 
    FOREIGN KEY (`idd_tiempo`)
    REFERENCES `tin`.`d_Tiempo` (`idd_tiempo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
    FOREIGN KEY (`idd_region`)
    REFERENCES `tin`.`d_region` (`idd_pais`)
    ON DELETE cascade
    ON UPDATE cascade,
    FOREIGN KEY (`idd_sexo`)
    REFERENCES `tin`.`d_sexo` (`idd_sexo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
      FOREIGN KEY (`idd_tipo`)
    REFERENCES `tin`.`d_tipo` (`idd_tipo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
    FOREIGN KEY (`idd_edad`)
    REFERENCES `tin`.`d_edad` (`idd_edad`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SET FOREIGN_KEY_CHECKS = 0;
